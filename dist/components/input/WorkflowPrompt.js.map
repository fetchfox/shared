{"version":3,"file":"WorkflowPrompt.js","names":["React","useState","useEffect","Loading","Input","Textarea","Button","FaArrowRight","UrlsInput","value","onChange","createElement","label","style","width","placeholder","WorkflowPrompt","fox","values","onWorkflow","loading","setLoading","disabled","setDisabled","handleSubmit","e","preventDefault","console","log","p","plan","urls","prompt","display","flexDirection","gap","target","onSubmit","position","marginTop","opacity","right","bottom","type","height","borderRadius","padding","boxShadow","size","fontFamily","fontSize","resize","paddingLeft","paddingRight","minHeight"],"sources":["../../../src/components/input/WorkflowPrompt.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Loading } from '../common/Loading';\nimport { Input } from '../input/Input';\nimport { Textarea } from '../input/Textarea';\nimport { Button } from '../input/Button';\nimport { FaArrowRight } from 'react-icons/fa';\n\nconst UrlsInput = ({ value, onChange}) => {\n  return (\n    <Input\n      label=\"Enter URL to scrape\"\n      style={{ width: '100%' }}\n      value={value}\n      onChange={onChange}\n      placeholder=\"Enter URL to scrape, eg. https://example.com/page\"\n    />\n  );\n}\n\nexport const WorkflowPrompt = ({ fox, values, onChange, onWorkflow }) => {\n  const [loading, setLoading] = useState();\n  const [disabled, setDisabled] = useState();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (loading) return;\n    if (disabled) return;\n    setLoading(true);\n    setDisabled(true);\n\n    // stuff\n    console.log('preview via fox 2', fox);\n    const p = await fox.plan(`${values.urls} ${values.prompt}`);\n    console.log('p', p);\n\n    setLoading(false);\n    setDisabled(false);\n\n    onWorkflow(p);\n  };\n\n  // const handleKeyDown = (e) => {\n  //   if (e.key == 'Enter' && !e.shiftKey) {\n  //     e.preventDefault();\n  //     handleSubmit(e);\n  //   } else {\n  //     console.log('handleKeyDown call onchange', e.target.value);\n  //     onChange(e);\n  //   }\n  // }\n\n  return (\n    <div\n      style={{ width: '100%',\n               display: 'flex',\n               flexDirection: 'column',\n               gap: 10\n             }}>\n      <UrlsInput\n        value={values.urls}\n        onChange={(e) => onChange({ ...values, urls: e.target.value })}\n      />\n\n      <form onSubmit={handleSubmit}>\n        <div style={{ position: 'relative',\n                      width: '100%',\n                      marginTop: 8,\n                      opacity: loading ? 0.5 : 1,\n                    }}>\n          <div style={{ position: 'absolute',\n                        right: 2,\n                        bottom: 5,\n                      }}>\n            <Button\n              type=\"submit\"\n              style={{ height: 30,\n                       width: 30,\n                       borderRadius: 15,\n                       padding: 0,\n                       boxShadow: 'unset',\n                     }}\n              loading={loading}\n              disabled={loading || disabled}\n              >\n              <FaArrowRight size={14} />\n            </Button>\n          </div>\n\n          <Textarea\n            style={{ width: '100%',\n                     fontFamily: 'sans-serif',\n                     fontSize: 16,\n                     resize: 'none',\n                     padding: 8,\n                     paddingLeft: 12,\n                     paddingRight: 36,\n                     borderRadius: 18,\n                     minHeight: 80,\n                   }}\n            type=\"text\"\n            value={values.prompt}\n            onChange={(e) => onChange({ ...values, prompt: e.target.value })}\n            placeholder={'Example: \"Look for links to articles, and on each article page, find the author, the publication date, and summarize it in 2-10 words.\"'}\n          />\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}